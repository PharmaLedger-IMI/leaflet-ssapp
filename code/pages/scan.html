<style>
    .barcode-scanner-container {
        height: calc(100vh - 97px);
    }

    .scan-shape {
        position: absolute;
        background-image: url(./assets/icons/barcode-scanner.svg);
        background-size: contain;
        background-repeat: no-repeat;
        height: 372px;
        top: calc(50% - 186px);
        left: 49px;
        right: 49px;
        background-position: center;
    }

    psk-barcode-scanner .scan-status {
        position: fixed;
        bottom: 26px;
        left: calc(50% - 31px);
    }

    psk-barcode-scanner .scan-status #first {
        animation: load 1s infinite;
    }

    psk-barcode-scanner .scan-status #second {
        animation: load 1s infinite;
    }

    .camera-error {
        position: fixed;
        top: 50%;
        padding-left: var(--l-space);
        padding-right: var(--l-space);
        display: flex;
        flex-direction: column;
        text-align: center;
        max-width: var(--app-max-width);
    }
</style>

<div class="mobile-container">
    <webc-container controller="ScanController">
        <page-template roundShape="false" shadow>
            <scan-header slot="header-slot"></scan-header>
            <div slot="content-slot">
                <div data-if="@useScandit">
                    <div id="scandit-barcode-picker-wrapper" slot="true">
                        <div id="scandit-barcode-picker"></div>
                    </div>
                    <div data-if="@hasCode" slot="false">
                        <div class="barcode-scanner-container" data-if="@nativeSupport" slot="false">
                            <psk-barcode-scanner data="@data" slot="false" snap-video>
                                <div slot="init">
                                    <img class="scan-status" src="./assets/icons/scan-in-progress.svg"/>
                                </div>
                                <div class="camera-error" slot="access_denied">
                                    <span>Access to your camera was denied.</span>
                                    <span>Please check camera settings and allow access to
                                        the camera in order to use the application</span>
                                </div>
                                <div class="camera-error" slot="error">
                                    <span>Couldn't detect camera.</span>
                                    <span> Please check if you have camera on your device or if the camera settings allow access to it </span>
                                </div>
                                <div slot="done"><img class="scan-status" src="./assets/icons/scan-done.svg"/></div>
                                <div class="scan-shape" slot="active">
                                    <img class="scan-status" src="./assets/icons/scan-in-progress.svg"/>
                                </div>
                            </psk-barcode-scanner>
                        </div>
                    </div>
                </div>
            </div>
        </page-template>

        <scan-status-button></scan-status-button>
    </webc-container>
</div>
